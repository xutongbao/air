(this.webpackJsonpair=this.webpackJsonpair||[]).push([[14],{390:function(e,t,a){"use strict";a.r(t);var A=a(31),i=a(0),c=a(101),s=a(25),n=a(391),o=a(385),r=a(213),l=a(44),m=a(388),u=a(132),d=a(131),j=a(148),h=a(49),O=a(348);var f=a(9);t.default=Object(c.b)((function(e){return{}}),(function(e){return{onSetState:function(t,a){e({type:"SET_LIGHT_STATE",key:t,value:a})},onDispatch:function(t){e(t)}}}))(Object(s.g)((function(e){var t=function(e){var t=r.a.useForm(),a=Object(d.a)(t,1)[0],A=Object(i.useState)([]),c=Object(d.a)(A,2),s=c[0],n=c[1],o=Object(i.useState)({}),l=Object(d.a)(o,2),m=l[0],u=(l[1],Object(i.useState)(!1)),f=Object(d.a)(u,2),b=f[0],g=f[1],w=Object(i.useState)(""),B=Object(d.a)(w,2),y=B[0],x=B[1],Q=Object(i.useState)(!1),p=Object(d.a)(Q,2),F=p[0],I=p[1],v=Object(i.useState)(),R=Object(d.a)(v,2),D=R[0],M=R[1],G=Object(i.useState)({}),J=Object(d.a)(G,2),E=J[0],S=J[1],C=Object(h.g)(e).id,U=function(){j.a.light.fieldsSearch({tableId:C}).then((function(e){if(200===e.code){var t=e.data.fields;n(Object(h.c)(e.data.fields)),x(e.data.title),S(e.data.skin?e.data.skin:{});var a=t.filter((function(e){return e.isModalField}));Array.isArray(a)&&a.length>0&&"image"===a[0].type&&I(!0)}}))};return Object(i.useEffect)((function(){U()}),[e.location.search]),Object(i.useEffect)((function(){var e=new Image;O.a.toImage({image:e,content:document.location.href,logo:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAiGSURBVHhe7Z39qxRVGMfv3xMYUYQRRRRRRBFE1C8RRRhRRBBFBFEEEUVQN82XTDPFDNNME01KM8U0y0zzJbOummWm7t633b1333fa77lnI2/P3HveZubMnucLX/zB3Wdm53zuzJznPOecgYgVtBiAwMUABC4GIHAxAIGLAQhcDEDgYgACV+4BqJ3cFpW+eCEqffmiubvfL+9+I4o6bRk1HOUagE6zGl166wonHvv0MRk1LOUagIlvF5ONaeJWcUhGDUu5BaBTHYsKC64mG1PXYxvmyajhKbcAlL9+jWxME9d/3yujhqdcAtAaP0c2pIlHPrxXRg1TuQRgfPNTZGOauH5ql4wapnIHQOOvQ2RDmnhk9T0yarjKHQBoNKoxTVw/vVtGDVe5AqB6dD3ZkCYe/fhBGTVs5QaATr0cFd65hmxMEzcvHJORw1ZuABj//DmyIU0s0r4soVwA0PhjP9mQpm6cPywjs/wHoNOOistuIRvS1MMr7hCPFFYOACh/9QrZiLYeXf+wPELY8hoAl31+yhgKDl3eAtBp1qLiuzeSDefSE/uXyCOGKW8BKG17nmywJFw9tkEeNTx5CQCqfKiGStL1oZ3y6GHJOwDa5YvOxvm1PDhHvHOEJu8AcJnr13Vh/lXBZQi9AqC881WyYdJ0YdHcqDX2pzyj/pc3AFSPbyIbJAuj9xEKBF4AgIJMqiGydHHpTaLyqN+VOQCdxoS42FQjZO0QIMgcAKRkqYvviwFB89IJebb9p0wBKG1/ibzoJq7+vDmq/bad/D9bow6hefG4POv+UmYATHy3lLzYJq7sWyijRlHtxBbyM7YGBP2YJ8gEAPy1UhfZxFRxByp9L719Jfl5W/dbFXHqANTP7iMvrIlLO16WUf8vFH0UFl9Hfs/W6LL2i1IFAM9RZNuoi6prvD/Mptbo2Wj4/dvI79t68uAqeZR8KzUAkFhx9Rc501/+dLUnR6KRNfeTcWxd2TtfHiW/SgUA9KVd9fUrexfIqBrqtKPxrc+Q8WyNtQXyrMQBwOieq8a3Ld6o7HmTjGvrsQ2PirUK8qhEAWhXCqIAk7poup48/JGMaqfqkXVkfFtjFLNdOi+Pkh8lBgAuxvDyW8mLpeXBOVFtaIeM6kaNcwcTST8jZt5KzhMBoN1t/OJ7N5MXSceI0fz7iIzqVu3yBTE9jDqurWu/bJVH8V/OAUDXy0Xjj6y5TzRS0kqq7DwvxaZOARD9/EVzyQuiY0wDi9otGTV5oSiUOg9bo7DVdzkDoH5mj5NavokDy2XEdAV4kyhHQw7C5yFlJwBUj20kf7yOi0tuyH6+fveug8ki1PnZuLj4ejG/0UdZA+BiVA81AW2PulAYrCosvJY8Vxv7mD62AgBZMOqH6hjJGVNh9hAGl/D4wUpfWj61SySp4tQaORONffIIec429i1zaAQA8uu2XSjM+EVD2AjjC1RsVU/+tFZGihfeSajv2li8FwyflkfIVtoAINFhO8KGVb4Aka3EcnGDc8hjqBhLzqgIuYjRtQ+QMUyNR4wPVUZaANiu0YMf7XIeHgCwWTZG91xcVjHBPrwTKANg+3Y8tvFx57X2aQMAoUAUgz9UPF2j95S1ZgWgWTgpsnLUD1AxEkOqt1pdZQFAT/hNttPXvQdAZMgsnrHjW55OtHuXJQBQe2LY6s7oLQD4YTbLsQ6vvCuV6dZZA9BT49yBaHTdQ+QxZrKXAKDhbAZzRJlUqyGjJStfAOgJCaThFbeTx6I8KwAqO5hY7nLyLwBIiuCWTZ2oinHHwPtCmvINAAjJKfQWVDKJcQD06hgBE+6msf7gTvEZJMNMJQDAC41pwSZONKscvo8A9ISh7PKu12ecnxALQPePkfp8nDEZxlQDJs8uGMmgrJ9hPgPQE1LKcSnzWAAqBa1hdUyJM9UAFXAmY2Rr4vtlXhRB5gGAnprFX0XxyX/nRcQdP1UAVEe9MNaPaVg4OV+UJwB6wjnjOuLREJcJ9AoA0fDdZ1ka5Vm6yiMAPbVL58X5U/ICABRoVL4Z9GqcfrryDMBMyhQA1PFP/rAy6tRK8iOaMumXGvZlGYApO3kJxPg+Ehk2QmGG6Luif0r1W+Pc/Q6GW3VX8GYApmwFACZauqpXs13pS7dGgAGYshUA8l8nslniFe8c2A1URwzAlBkAIp6KGQAGQEbySwyAomwB8HkOn87YjM2E1KABwJRzLFSpa9XhboyOTv64Wtxp1L1RdMN1ZlkhxYzv0fFoIwuJWdJBA4CLjDyIricPrZFnMLOQSKOO64sxhB80AKbGeL+KXFcRuzZGKRkAA+MWrSKMmlLf98WoZ2QADMwAxIgBuFwMgIYZgPTNABiaAYgRA3C5GAANMwDpmwEwNBpWRdjHgPq+Lx7f+iwDYLKvgOodAJ+jMokqpo4bZ9OMJlLIQQOATB1iYNcyVaO8W/k8Ww1yLGE2Y61FNBB1zpQxMYSKM6ubtbABsBlGTVJoGJ3hYJuldoIGAKNiPorrARTFAEyZASDiqZgBYABkJL/EACiKAZgyA0DEUzEDwADISH6JAVAUAzBlBoCIp2IGgAGQkfwSA6CovgZA43cxAEQ8FXsLQJqrhMl/nYgBcCMMBmGqPfYzwDnG+uh6MbsJ18FUDEDgYgACFwMQuBiAwMUABC63AAztIC+0irH7hu7ys7r95em2XRWtH+QUAOzFR11oFQMA3f2CccewASBPu3wnpYHxz54UGyRiIyQrb3rCau9dLKKMHUSxuRQZf7q7nxN7F1psaTOy6m5x3mT8zDxPtAeqj9OQ9mrh7HRsswmEjpRXC2ena6zfk4YYAE/NAARuBiBwMwCBmwEI3KkBQB2cnb1T6wY6SwSxHTnlRJD8lxWoGIDAxQAELgYgcDEAgYsBCFwMQOBiAAIXAxC4GIDAxQAErSj6Bwim9ux3XKqJAAAAAElFTkSuQmCC"}}),e.id="m-img",e.style="display:none;",document.body.appendChild(e);var t=document.getElementById("m-img");setTimeout((function(){M(t.src)}),500)}),[]),{form:a,initValues:m,fieldsDom:s,isShowResult:b,title:y,isImageFirst:F,qrCodeImageUrl:D,skin:E,handleSearch:U,handleFinish:function(e){console.log("Success:",e),j.a.light.tableAdd({tableId:C,dataItem:e}).then((function(e){200===e.code&&g(!0)}))},handleFinishFailed:function(e){console.log("Failed:",e)}}}(e),a=t.initValues,c=t.form,s=t.fieldsDom,b=t.isShowResult,g=t.title,w=t.isImageFirst,B=t.qrCodeImageUrl,y=t.skin,x=t.handleFinish,Q=t.handleFinishFailed;return Object(f.jsx)("div",{className:"m-formview-wrap",style:{backgroundImage:"url(".concat(y.backgroundImg,")")},children:Object(f.jsx)("div",{className:"m-formview-inner",children:b?Object(f.jsx)(m.a,{status:"success",title:"\u63d0\u4ea4\u6210\u529f",subTitle:"\u611f\u8c22\u60a8\u7684\u53c2\u4e0e",extra:Object(f.jsx)(l.a,{type:"primary",onClick:function(){document.location.reload()},children:"\u8fd4\u56de"})}):Object(f.jsxs)(f.Fragment,{children:[y.headerImg&&Object(f.jsx)("div",{className:"m-formview-header-img-wrap",children:Object(f.jsx)("img",{className:"m-formview-header-img",alt:"\u8868\u5934",src:y.headerImg})}),Object(f.jsx)("div",{className:"m-formview-header-text ".concat(w?"image-first":""),children:Object(f.jsxs)(n.b,{children:[Object(f.jsx)("span",{children:g}),B&&Object(f.jsx)(o.a,{className:"m-qrcode-img",src:B,alt:"\u4e8c\u7ef4\u7801",preview:{mask:""}})]})}),Object(f.jsxs)(r.a,{form:c,labelCol:{span:4},wrapperCol:{span:17},initialValues:Object(A.a)({},a),onFinish:x,onFinishFailed:Q,children:[s,Object(f.jsxs)(r.a.Item,{wrapperCol:{offset:4,span:17},className:"m-formview-formitem m-formview-formitem-footer-mobile",children:[Object(f.jsxs)(l.a,{type:"primary",htmlType:"submit",className:"m-space",children:[Object(f.jsx)(u.c,{name:"submit",className:"m-tool-btn-icon"}),"\u63d0\u4ea4"]}),Object(f.jsxs)(l.a,{className:"m-space",onClick:function(){c.resetFields()},children:[Object(f.jsx)(u.c,{name:"reset",className:"m-tool-btn-icon"}),"\u91cd\u7f6e"]})]})]})]})})})})))}}]);