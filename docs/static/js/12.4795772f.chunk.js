(this.webpackJsonpair=this.webpackJsonpair||[]).push([[12],{116:function(e,t,a){"use strict";a.d(t,"f",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return h})),a.d(t,"e",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return j}));var r=a(114),n=(a(66),a(374)),i=a(371),o=a(370),u=a(160),d=a.n(u),l=a(33),c=a(7),s=n.a.TextArea,p=function(e){return function(e){var t={},a=e.split("?");if(a.length<=1)return t;for(var r=0,n=(a=a[1].split("&")).length;r<n;r++){var i=a[r].split("=");t[i[0]]=i[1]}return t}(e.location.search)},m=function(e){var t=/http(s)?:\/\/([A-Za-z0123456789:.-]+)\/\S+/.exec(e);if(t)return"http://"+t[2]},h=function(){return[{id:1,title:"\u5355\u884c\u6587\u672c",formComponentName:"Input",component:Object(c.jsx)(n.a,{}),getComponent:function(e){var t=e.props;return Object(c.jsx)(n.a,Object(r.a)({},t))}},{id:2,title:"\u591a\u884c\u6587\u672c",formComponentName:"TextArea",component:Object(c.jsx)(s,{}),getComponent:function(e){var t=e.props;return Object(c.jsx)(s,Object(r.a)({},t))}},{id:3,title:"\u6570\u5b57",formComponentName:"InputNumber",component:Object(c.jsx)(i.a,{style:{width:"100%"}}),getComponent:function(e){var t=e.props;return Object(c.jsx)(i.a,Object(r.a)({style:{width:"100%"}},t))}},{id:4,title:"\u56fe\u7247",formComponentName:"Image",component:Object(c.jsx)("img",{style:{width:"100%"},alt:"\u56fe\u7247"}),getComponent:function(e){var t=e.props;return Object(c.jsx)("img",Object(r.a)(Object(r.a)({style:{width:"100%"}},t),{},{alt:"\u56fe\u7247"}))}}]},f=function(){return[{id:1,title:"span\u6807\u7b7e",renderFunName:"renderSpan",formComponentNameArr:["Input","TextArea"],render:function(e){return Object(c.jsx)("span",{children:e})}},{id:2,title:"\u65e5\u671f",renderFunName:"renderDatetime",formComponentNameArr:[],render:function(e){return Object(c.jsx)("span",{children:e?d()(e).format("YYYY-MM-DD HH:mm:ss"):""})}},{id:3,title:"\u56fe\u7247",renderFunName:"renderImage",formComponentNameArr:["Image"],render:function(e){return Object(c.jsx)("img",{alt:"\u56fe\u7247",src:e})}}]},b=function(e){var t=[];return e.forEach((function(e){if(e.isModalField){var a=h().find((function(t){return t.formComponentName===e.formComponentName}));"formItem"===e.type?t.push(Object(c.jsx)(o.a.Item,{label:e.title,name:e.dataIndex,rules:e.rules,className:"m-formview-formitem",children:a?a.getComponent({props:e.props}):Object(c.jsx)(n.a,{})},e.id)):"image"===e.type&&t.push(Object(c.jsx)(o.a.Item,{name:e.dataIndex,wrapperCol:24,children:a?a.getComponent({props:{src:e.src}}):Object(c.jsx)(n.a,{})},e.id))}})),t},j=function(e){var t=e.router,a=e.authData,n=void 0===a?[]:a,i=e.isForTable,o=void 0!==i&&i;t=g(t);var u=[];return function e(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=function(i){var l=n.find((function(e){return e.path===t[i].path||e.path===t[i].key}));if(l){var c=Array.isArray(l.auth)&&l.auth.find((function(e){return"check"===e.name}));t[i].isVisible=!!c&&c.isVisible}if(Array.isArray(t[i].auth)){t[i].auth.forEach((function(e){if(l&&Array.isArray(l.auth)){var t=l.auth.find((function(t){return t.name===e.name}));e.isVisible=!!t&&t.isVisible}else"check"===e.name?e.isVisible=!0:e.isVisible=!1}));var s="";t[i].path?s=t[i].path:t[i].key&&(s=t[i].key),u.push({path:s,auth:g(t[i].auth)})}if(t[i].dataRange){l&&l.dataRange&&l.dataRange.value?t[i].dataRange.value=l.dataRange.value:t[i].dataRange.value=1;var p=u.findIndex((function(e){return e.path===t[i].path}));p>=0&&(u[p]=Object(r.a)(Object(r.a)({},u[p]),{},{dataRange:g(t[i].dataRange)}))}Array.isArray(t[i].children)&&t[i].children.length>0?(t[i].id="".concat(a).concat(i+1),e(t[i].children,"".concat(a).concat(i+1))):(t[i].id="".concat(a).concat(i+1),!0===t[i].isDevMenu&&o&&(t.splice(i,1),i-=1)),d=i},d=0;d<t.length;d++)i(d)}(t),{newRouter:t,newRouterAuthDataArr:u}},g=function(e){return Object(l.fromJS)(e).toJS()}},122:function(e,t,a){"use strict";var r=a(126),n=a(161),i=a.n(n),o=a(162),u=a(114),d=a(163),l=a.n(d),c=a(89),s=a(125);l.a.defaults.baseURL=s.a,l.a.interceptors.request.use((function(e){return e.headers.token=localStorage.getItem("token")||"","get"===e.method?e.params=Object(u.a)({},e.data):e.data=Object(u.a)({},e.data),e}),(function(e){return Promise.reject(e)})),l.a.interceptors.response.use((function(e){return 200===e.data.code?e.data:400===e.data.code?(c.b.warning(e.data.message),e.data):Promise.reject(e)}));var p=function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()(t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m={light:{templateSearch:function(e){return p({url:r.a.light.templateSearch,data:e,method:"post"})},templateAdd:function(e){return p({url:r.a.light.templateAdd,data:e,method:"post"})},templateDelete:function(e){return p({url:r.a.light.templateDelete,data:e,method:"post"})},templateEdit:function(e){return p({url:r.a.light.templateEdit,data:e,method:"post"})},easyTemplateSearch:function(e){return p({url:r.a.light.easyTemplateSearch,data:e,method:"post"})},easyTemplateAdd:function(e){return p({url:r.a.light.easyTemplateAdd,data:e,method:"post"})},easyTemplateDelete:function(e){return p({url:r.a.light.easyTemplateDelete,data:e,method:"post"})},easyTemplateEdit:function(e){return p({url:r.a.light.easyTemplateEdit,data:e,method:"post"})},routerSearch:function(e){return p({url:r.a.light.routerSearch,data:e,method:"post"})},routerAdd:function(e){return p({url:r.a.light.routerAdd,data:e,method:"post"})},routerDelete:function(e){return p({url:r.a.light.routerDelete,data:e,method:"post"})},routerEdit:function(e){return p({url:r.a.light.routerEdit,data:e,method:"post"})},tableSearch:function(e){return p({url:r.a.light.tableSearch,data:e,method:"post"})},tableAdd:function(e){return p({url:r.a.light.tableAdd,data:e,method:"post"})},tableDelete:function(e){return p({url:r.a.light.tableDelete,data:e,method:"post"})},tableEdit:function(e){return p({url:r.a.light.tableEdit,data:e,method:"post"})},fieldsSearch:function(e){return p({url:r.a.light.fieldsSearch,data:e,method:"post"})},fieldsAdd:function(e){return p({url:r.a.light.fieldsAdd,data:e,method:"post"})},fieldsDelete:function(e){return p({url:r.a.light.fieldsDelete,data:e,method:"post"})},fieldsEdit:function(e){return p({url:r.a.light.fieldsEdit,data:e,method:"post"})},fieldsEditAll:function(e){return p({url:r.a.light.fieldsEditAll,data:e,method:"post"})}}};t.a=m},125:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r="https://efficacious-tiny-infinity.glitch.me"},126:function(e,t,a){"use strict";var r={light:{testUpload:a(125).a+"/api/upload",templateSearch:"/api/template/search",templateAdd:"/api/template/add",templateDelete:"/api/template/delete",templateEdit:"/api/template/edit",easyTemplateSearch:"/api/easyTemplate/search",easyTemplateAdd:"/api/easyTemplate/add",easyTemplateDelete:"/api/easyTemplate/delete",easyTemplateEdit:"/api/easyTemplate/edit",routerSearch:"/api/router/search",routerAdd:"/api/router/add",routerDelete:"/api/router/delete",routerEdit:"/api/router/edit",tableSearch:"/api/table/search",tableAdd:"/api/table/add",tableDelete:"/api/table/delete",tableEdit:"/api/table/edit",fieldsSearch:"/api/fields/search",fieldsAdd:"/api/fields/add",fieldsDelete:"/api/fields/delete",fieldsEdit:"/api/fields/edit",fieldsEditAll:"/api/fields/editAll"}};t.a=r},144:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o}));var r=a(114),n=a(122),i=(a(116),function(e){return function(t){n.a.light.routerSearch().then((function(a){200===a.code&&(t({type:"SET_LIGHT_STATE",key:["routerForApp"],value:a.data}),e&&e())}))}}),o=function(){return function(e){var t=localStorage.getItem("userInfoAdmin")?JSON.parse(localStorage.getItem("userInfoAdmin")):{};e({type:"SET_LIGHT_STATE",key:["userInfo"],value:Object(r.a)({},t)})}}},361:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(184),i=a(49),o=a(6),u=a(59),d=a(116),l=a(144),c=a(7),s=Object(r.lazy)((function(){return Promise.all([a.e(2),a.e(4),a.e(13)]).then(a.bind(null,355))}));t.default=Object(u.b)((function(e){return{routerForApp:e.getIn(["light","routerForApp"]).toJS()}}),(function(e){return{onSetState:function(t,a){e({type:"SET_LIGHT_STATE",key:t,value:a})},onDispatch:function(t){e(t)}}}))(Object(o.g)((function(e){var t=e.routerForApp,a=Object(d.f)(e);return Object(r.useEffect)((function(){e.onDispatch(Object(l.a)())}),[]),Object(c.jsxs)("div",{className:"m-wrap",children:[Object(c.jsxs)("div",{className:"m-header",children:[Object(c.jsx)("div",{className:"m-header-logo",children:"SalesWork"}),Object(c.jsx)(n.a,{className:"m-header-nav",selectedKeys:[a.id],mode:"horizontal",children:t.map((function(e){return Object(c.jsx)(n.a.Item,{children:Object(c.jsx)(i.b,{to:e.path,children:e.title})},e.key)}))}),Object(c.jsx)("div",{className:"m-header-operate",children:Object(c.jsx)(i.b,{to:"/light/admin/home",children:"\u7ba1\u7406\u540e\u53f0"})})]}),Object(c.jsx)("div",{className:"m-content",children:Object(c.jsx)(r.Suspense,{fallback:null,children:Object(c.jsx)(o.d,{children:Object(c.jsx)(o.b,{path:"/light/index/content",component:s})})})})]})})))}}]);